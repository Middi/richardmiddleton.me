document.body.classList.contains("article")||document.querySelector(".hero-skew").classList.add("hero-animation");const toggle=document.querySelector("#navToggle"),ul=document.querySelector("nav ul"),nav=document.querySelector("nav"),aboutText=document.querySelectorAll(".about-container-text"),card=document.querySelectorAll(".card-container .card"),socialContainer=document.querySelector(".social-container"),liList=document.querySelectorAll("nav ul li"),contNav=document.querySelector("#container-nav"),cardCont=document.querySelector("#card-container"),filterClass=document.querySelectorAll(".filters-item"),instaGrid=document.querySelector("#insta-grid");if(toggle.addEventListener("click",function(t){t.preventDefault(),document.body.clientWidth>720?(ul.classList.toggle("menu-open"),document.querySelector("#navToggle").classList.toggle("open")):(nav.classList.toggle("mobile-open"),document.querySelector("#navToggle").classList.toggle("open"),contNav.classList.toggle("cont-nav-open"))}),window.addEventListener){let t=[];const e="38,38,40,40,37,39,37,39,66,65,13";window.addEventListener("keydown",function(n){t.push(n.keyCode),t.toString().indexOf(e)>=0&&(window.location="/rm-login",t=[])},!0)}if(!document.body.classList.contains("article")){let t=!1,e=!1,n=!1;window.addEventListener("scroll",function(){if(window.pageYOffset>180&&!t&&(aboutText[0].classList.toggle("about-animation"),t=!0),window.pageYOffset>1180&&!e){var i=0;!function t(){setTimeout(function(){card[i].classList.add("card-animation"),++i<card.length&&t()},250)}(),e=!0}function a(){for(var t=0;t<liList.length;t++)liList[t].firstElementChild.classList.remove("nav-active")}window.pageYOffset>2080&&!n&&(socialContainer.classList.toggle("social-animation"),n=!0),window.pageYOffset<623?(a(),liList[0].firstElementChild.classList.add("nav-active")):window.pageYOffset>623&&window.pageYOffset<1400?(a(),liList[1].firstElementChild.classList.add("nav-active")):window.pageYOffset>1400&&window.pageYOffset<2535?(a(),liList[2].firstElementChild.classList.add("nav-active")):(a(),liList[3].firstElementChild.classList.add("nav-active"))})}function initSmoothScrolling(){var t=400,e=location.hash?i(location.href):location.href;function n(t){return"a"===t.tagName.toLowerCase()&&t.hash.length>0&&i(t.href)===e}function i(t){return t.slice(0,t.lastIndexOf("#"))}!function(){document.body.addEventListener("click",function(e){if(!n(e.target))return;e.stopPropagation(),e.preventDefault(),jump(e.target.hash,{duration:t,callback:function(){var t,n;t=e.target.hash,(n=document.getElementById(t.substring(1)))&&(/^(?:a|select|input|button|textarea)$/i.test(n.tagName)||(n.tabIndex=-1),n.focus())}})},!1)}()}function jump(t,e){var n,i,a=window.pageYOffset,o={duration:e.duration,offset:e.offset||0,callback:e.callback,easing:e.easing||function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},s="string"==typeof t?o.offset+document.querySelector(t).getBoundingClientRect().top:t,c="function"==typeof o.duration?o.duration(s):o.duration;function r(t){i=t-n,window.scrollTo(0,o.easing(i,a,s,c)),i<c?requestAnimationFrame(r):function(){window.scrollTo(0,a+s),"function"==typeof o.callback&&o.callback();document.body.clientWidth>720?(ul.classList.remove("menu-open"),document.querySelector("#navToggle").classList.remove("open")):(nav.classList.remove("mobile-open"),document.querySelector("#navToggle").classList.remove("open"),contNav.classList.toggle("cont-nav-open"))}()}requestAnimationFrame(function(t){n=t,r(t)})}function restAPI(t){const e=`/wp-json/wp/v2/projects?categories=${t}`;cardCont.innerHTML='\n        <div class="spinner">\n            <div class="right-side">\n                <div class="bar"></div>\n            </div>\n            <div class="left-side">\n                <div class="bar"></div>\n            </div>\n        </div>',fetch(e).then(function(t){if(!t.ok)throw Error(t.statusText);return t}).then(function(t){return t.json()}).then(function(t){buildDom(t)}).catch(function(t){console.log(t)})}function buildDom(t){t&&(cardCont.innerHTML="");let e=0;for(;e<t.length&&e<6;){var n=t[e].excerpt.rendered.substr(3),i=n.substr(0,n.length-5),a=`<div class="card card-animation">\n    <a href="${t[e].link}">\n        <div class="card-image" style="background:url('${t[e].acf.image.sizes.medium}'); background-size:cover; background-position: center center;"></div>\n    </a>\n    <div class="card-text">\n        <a href="${t[e].link}">\n            <h4 class="h4-display">${t[e].title.rendered}</h4>\n        </a>\n        <p class="card-p">${i}</p>\n        <div class="card-text-more">\n        ${t[e].acf.url?`<a href="${t[e].acf.url}" class="more" title="view">\n                <img src="/wp-content/themes/richardcodes/assets/img/view.svg" alt="view">\n            </a>`:""}\n        ${t[e].acf.github_url?`\n            <a href="${t[e].acf.github_url}" class="more" title="github">\n                <img src="/wp-content/themes/richardcodes/assets/img/git-view.svg" alt="github">\n            </a>\n            `:""}\n            <a href="${t[e].link}" class="more" title="Case Study">\n                <img src="/wp-content/themes/richardcodes/assets/img/case-view.svg" alt="case study">\n            </a>\n        </div>\n    </div>\n</div>`;cardCont.innerHTML+=a,e++}}function instaAPI(){fetch("https://api.instagram.com/v1/users/self/media/recent/?access_token=178595410.7e82061.56428f51fa2d4779856bf0af509aa91c").then(function(t){if(200!==t.status)throw Error(t.statusText);return t}).then(function(t){return t.json()}).then(function(t){buildInsta(t)}).catch(function(t){console.log(t)})}function buildInsta(t){for(var e=0;e<8;e++){var n=t.data[e].images.thumbnail.url,i=`<a href="${t.data[e].link}" target="_blank">\n            <div class="insta-grid-pic" style="background:url('${n}'); background-size:cover; background-position: center center;">\n\n            </div>\n        </a>`;instaGrid.innerHTML+=i}}initSmoothScrolling(),document.querySelector("#filters")&&document.querySelector("#filters").addEventListener("click",function(t){if(t.target&&t.target.matches(".filters-item")){for(var e=0;e<filterClass.length;e++)filterClass[e].classList.remove("active");t.target.classList.add("active"),restAPI(t.target.getAttribute("data-key"))}}),instaAPI();